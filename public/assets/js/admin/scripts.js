$((function(){function i(i){let a=i.attr("data-active-icon"),t=i.attr("data-alt-icon");i.attr("data-active-icon",t).attr("data-alt-icon",a).removeClass(a).addClass(t)}$(".btn-menu-toggler").on("click",(function(a){a.preventDefault();let t=$("#sidebar");t.hasClass("d-none")?(t.removeClass("d-none"),i($(this))):(t.addClass("d-none"),i($(this)))})),$(".jsShowMoreFilters").on("click",(function(a){a.preventDefault(),i($(this))}))})),$((function(){let i=$("#jsImageUploadModal"),a=$("#jsImageToolsModal"),t=a.find(".jsFormSubmit");t.removeClass("jsFormSubmit").addClass("jsImageToolsModalImageUpload"),t.on("submit",(function(i){function t(i){a.find(".images-list .list").prepend(i.show("fade"))}formSubmit(i,$(this),null,(function(i){if(!i.success)return;let n=a.find(".model .images-list-item").clone().hide();n.find("#image-id").val(i.id),n.find("#image-url").val(i.url),n.find("#image-thumb").val(i.thumb),n.find(".img-fluid").attr("src",i.thumb).attr("title",i.tags).attr("data-original-title",i.tags);let l=a.find(".images-list .list .images-list-item");9==l.length?$(l[8]).fadeOut((function(){$(this).remove(),t(n)})):t(n)}),null,null)})),a.on("submit",".jsImageToolsModalSearchFormSubmit",(function(i){formSubmit(i,$(this),null,(function(i){i.success&&(a.find(".images-list .list").html(""),a.find(".images-pagination").html(""),$.each(i.images,(function(i,t){let n=a.find(".images-list .model .images-list-item").clone().hide();n.find(".img-fluid").attr("src",t.thumb).attr("alt",t.name).attr("title",t.tags).attr("data-original-title",t.tags),n.find("#image-name").val(t.name),n.find("#image-id").val(t.id),n.find("#image-thumb").val(t.thumb),n.find("#image-url").val(t.url),a.find(".list").append(n.show("fade"))})),a.find(".images-pagination").html(i.pagination))}))})),a.on("click",".page-link",(function(i){i.preventDefault(),ajaxRequest($(this).attr("href"),null,null,(function(i){i.success&&(a.find(".list").html(""),$.each(i.images,(function(i,t){let n=a.find(".images-list .model .images-list-item").clone().hide();n.find(".img-fluid").attr("src",t.thumb).attr("alt",t.name).attr("title",t.tags).attr("data-original-title",t.tags),n.find("#image-name").val(t.name),n.find("#image-id").val(t.id),n.find("#image-thumb").val(t.thumb),n.find("#image-url").val(t.url),a.find(".list").append(n.show("fade"))})),a.find(".images-pagination").html(i.pagination))}),null,null,"POST")})),a.on("shown.bs.modal",(function(){a.find(".list .images-list-item").length||ajaxRequest(a.find(".images-list").attr("data-action"),null,null,(function(i){i.success&&($.each(i.images,(function(i,t){let n=a.find(".images-list .model .images-list-item").clone().hide();n.find(".img-fluid").attr("src",t.thumb).attr("alt",t.name).attr("title",t.tags).attr("data-original-title",t.tags),n.find("#image-name").val(t.name),n.find("#image-id").val(t.id),n.find("#image-thumb").val(t.thumb),n.find("#image-url").val(t.url),a.find(".list").append(n.show("fade"))})),a.find(".images-pagination").html(i.pagination))}),null,null,"POST")})),i.on("hidden.bs.modal",(function(){i.find("form").attr("action",""),i.find(".message-area").html(""),i.find("#image").val(""),i.find("#tags").val(""),i.find("#name").val(""),addFormErrors($(i.find("form"),[]))})),a.on("hidden.bs.modal",(function(){a.find(".message-area").html(""),a.find("#image").val(""),a.find("#tags").val(""),a.find("#name").val(""),addFormErrors($(a.find(".jsImageToolsModalImageUpload"),[]))}))}));
